$(function(){L.Icon.Default.imagePath="/static/leaflet/dist/images/";const t=window.location.hash;t&&$(`.nav[role="tablist"] a[href="${t}"]`).tab("show"),$('a[role="tab"]').on("click",function(){const t=$(this).attr("href"),o=`${window.location.origin}${window.location.pathname}${t}`;history.replaceState(null,null,o)}),$('[data-toggle="tooltip"]').tooltip(),$(".modal-toggle").on("click",function(){const t=$(this).data("href");if(t){const o="#place-modal",a=`${o} .modal-body`;fetch(t).then(t=>t.json()).then(t=>{$(o).modal({show:!0}).on("shown.bs.modal",function(){$(`${a} h2`).html(`${t.address}, ${t.country.name}`),pointMap(t)})})}})});const pointMap=t=>{const o=L.map("modal-map").setView(t,5);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(o),L.marker(t).addTo(o),o.whenReady(()=>o.invalidateSize())},dispatchWindowResizeEvent=()=>{window.dispatchEvent(new Event("resize"))};