{% extends "base.html" %}

{% block main %}
<h1>{{ object.name }}</h1>

<!-- Bio / Record tabs -->
{% if object.biographies.count %}
<nav>
    <ul class="nav nav-tabs" id="bio-record" role="tablist">
        <li class="nav-item" role="presentation">
            <a class="nav-link active" id="record-tab" data-toggle="tab" href="#record-details" role="tab" aria-controls="record-details" aria-selected="true">Record details</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="bio-tab" data-toggle="tab" href="#bio" role="tab" aria-controls="bio" aria-selected="false">Biography</a>
        </li>
    </ul>
</nav>
{% endif %}

<!-- Tab panes -->
<div class="tab-content">
    <p class="metadata">
        <span class="metadata-block">
            {% include "agents/includes/noble.html" %}
            {% if object.gender == "m" %}
            {# Font Awesome Mars icon #}
            {% include "svgs/solid/mars.svg" %}
            {% elif object.gender == "f" %}
            {# Font Awesome Venus icon #}
            {% include "svgs/solid/venus.svg" %}
            {% else %}
            {# Font Awesome question mark icon #}
            {% include "svgs/solid/question.svg" %}
            {% endif %}

            {% if object.place_birth or object.date_birth or object.date_death or object.place_death %}
            {% if object.place_birth %}{{ object.place_birth.address }}{% endif %}
            {% if object.date_birth %}{{ object.date_birth }}{% endif %} â€“
            {% if object.date_death %}{{ object.date_death }}{% endif %}
            {% if object.place_death %}{{ object.place_death.address }}{% endif %}
            {% endif %}
        </span>

        {% if object.languages.count %}
        <span class="metadata-block">
            {# Custom language icon "language2.svg" #}
            {% include "svgs/solid/language2.svg" %}
            {% for language in object.languages.all %}
            {{ language.label }}{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </span>
        {% endif %}

        {% if object.main_places.count %}
        <span class="metadata-block">
            {# Font Awesome map-marker-alt icon #}
            {% include "svgs/solid/map-marker-alt.svg" %}
             Main: 
            {% for place in object.main_places.all %}
            <span class="badge badge-primary">{{ place.address }}</span>
            {% endfor %}
        </span>
        {% endif %}

        {% if object.based_near.count %}
        <span class="metadata-block">
            {# Font Awesome route icon #}
            {% include "svgs/solid/globe.svg" %}
             Other:
            {% for place in object.based_near.all %}
            {{ place.address }}{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </span>
        {% endif %}

        <span class="metadata-block">
            {% include "agents/includes/roles.html" %}
        </span>
        {% include "agents/includes/pages.html" %}
    </p>

    <div class="tab-pane active" id="record-details" role="tabpanel" aria-labelledby="record-tab">
        {% include "agents/includes/agents.html" with title='Knows' agents=object.knows %}

        {% include "agents/includes/agents.html" with title='Member of' agents=object.member_of %}

        {% include "agents/includes/contributed_to.html" %}

        {% include "includes/object_notes.html" %}
    </div>

    {% if object.biographies.count %}
    <div class="tab-pane" id="bio" role="tabpanel" aria-labelledby="bio-tab">
        <h2>Biography</h2>
        {% for page in object.biographies.all %}
        {% include "cms/includes/biography.html" %}
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endblock main %}
