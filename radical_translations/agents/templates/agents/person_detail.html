{% extends "base.html" %}

{% block main %}
<h1>{{ object.name }}</h1>

<!-- Bio / Record tabs -->
{% if object.biographies.count %}
<nav>
    <ul class="nav nav-tabs" id="bio-record" role="tablist">
        <li class="nav-item" role="presentation">
            <a class="nav-link active" id="record-tab" data-toggle="tab" href="#record-details" role="tab" aria-controls="record-details" aria-selected="true">Record details</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="bio-tab" data-toggle="tab" href="#bio" role="tab" aria-controls="bio" aria-selected="false">Biography</a>
        </li>
    </ul>
</nav>
{% endif %}

<!-- Tab panes -->
<div class="tab-content">
    <p class="metadata">
        <span class="metadata-block">
            {% include "agents/includes/noble.html" %}
            {% if object.gender == "m" %}
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M372 64h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-80.7 80.7c-22.2-14-48.5-22.1-76.7-22.1C64.5 160 0 224.5 0 304s64.5 144 144 144 144-64.5 144-144c0-28.2-8.1-54.5-22.1-76.7l80.7-80.7 16.9 16.9c7.6 7.6 20.5 2.2 20.5-8.5V76c0-6.6-5.4-12-12-12zM144 384c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"/></svg>
            {% elif object.gender == "f" %}
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 288 512"><path d="M288 176c0-79.5-64.5-144-144-144S0 96.5 0 176c0 68.5 47.9 125.9 112 140.4V368H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v36c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-36h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-51.6c64.1-14.5 112-71.9 112-140.4zm-224 0c0-44.1 35.9-80 80-80s80 35.9 80 80-35.9 80-80 80-80-35.9-80-80z"/></svg>
            {% endif %}
            {{ object.gender }}
            |
            {{ object.place_birth.address }}, {{ object.date_birth }} â€“ {{ object.date_death }}, {{ object.place_death.address }}
        </span>

        {% if object.languages.count %}
        <span class="metadata-block">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 305 320">
            <path d="M1,0v320h304V0H1z M257,120c0,6.6-5.4,12-12,12h-11.4c-6.9,23.6-21.7,47.4-42.7,69.9c8.4,6.4,17.1,12.5,26.1,18
                c5.5,3.4,7.3,10.5,4.1,16.2l-7.9,13.9c-3.4,5.9-10.9,7.8-16.7,4.3c-12.6-7.8-24.5-16.1-35.4-24.9c-10.9,8.7-22.7,17.1-35.4,24.9
                c-5.8,3.5-13.3,1.6-16.7-4.3l-7.9-13.9c-3.2-5.6-1.4-12.8,4.2-16.2c9.3-5.7,18-11.7,26.1-18c-7.9-8.4-14.9-17-21-25.7
                c-4-5.7-2.2-13.6,3.7-17.1l6.5-3.9l7.3-4.3c5.4-3.2,12.4-1.7,16,3.4c5,7,10.8,14,17.4,20.9c13.5-14.2,23.8-28.9,30-43.2H77
                c-6.6,0-12-5.4-12-12v-16c0-6.6,5.4-12,12-12h64V76c0-6.6,5.4-12,12-12h16c6.6,0,12,5.4,12,12v16h64c6.6,0,12,5.4,12,12V120z"/>
            </svg>
            {% for language in object.languages.all %}
            {{ language.label }}{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </span>
        {% endif %}

        {% if object.main_places.count %}
        <span class="metadata-block">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0z"/></svg>
             Place{% if object.main_places.count > 1 %}s{% endif %} of publication: 
            {% for place in object.main_places.all %}
            <span class="badge badge-primary">{{ place.address }}</span>
            {% endfor %}
        </span>
        {% endif %}

        {% if object.based_near.count %}
        <span class="metadata-block">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0z"/></svg>
             Other place{% if object.based_near.count > 1 %}s{% endif %}:
            {% for place in object.based_near.all %}
            {{ place.address }}{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </span>
        {% endif %}

        <span class="metadata-block">
            {% include "agents/includes/roles.html" %}
        </span>
        <span class="metadata-block">
            {% include "agents/includes/pages.html" %}
        </span>
    </p>

    <div class="tab-pane active" id="record-details" role="tabpanel" aria-labelledby="record-tab">
        {% include "agents/includes/agents.html" with title='Knows' agents=object.knows %}

        {% include "agents/includes/agents.html" with title='Member of' agents=object.member_of %}

        {% include "agents/includes/contributed_to.html" %}

        {% include "includes/object_notes.html" %}
    </div>

    {% if object.biographies.count %}
    <div class="tab-pane" id="bio" role="tabpanel" aria-labelledby="bio-tab">
        <h2>Biography</h2>
        {% for page in object.biographies.all %}
        {% include "cms/includes/biography.html" %}
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endblock main %}
