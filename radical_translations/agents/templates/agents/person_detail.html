{% extends "base.html" %}

{% block main %}
<h1>{{ object.name }}</h1>

<!-- Bio / Record tabs -->
{% if object.biographies.count %}
<nav>
    <ul class="nav nav-tabs" id="bio-record" role="tablist">
        <li class="nav-item" role="presentation">
            <a class="nav-link active" id="record-tab" data-toggle="tab" href="#record-details" role="tab" aria-controls="record-details" aria-selected="true">Record details</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="bio-tab" data-toggle="tab" href="#bio" role="tab" aria-controls="bio" aria-selected="false">Biography</a>
        </li>
    </ul>
</nav>
{% endif %}

<!-- Tab panes -->
<div class="tab-content">
    <p class="metadata">
        <span class="metadata-block">
            {% include "agents/includes/noble.html" %}
            {% if object.gender == "m" %}
            {# Font Awesome Mars icon #}
            {% include "includes/mars.svg" %}
            {% elif object.gender == "f" %}
            {# Font Awesome Venus icon #}
            {% include "includes/venus.svg" %}
            {% else %}
            {# Font Awesome question mark icon #}
            {% include "includes/question.svg" %}
            {% endif %}

            {% if object.place_birth or object.date_birth or object.date_death or object.place_death %}
            {% if object.place_birth %}{{ object.place_birth.address }}{% endif %}
            {% if object.date_birth %}{{ object.date_birth }}{% endif %} â€“
            {% if object.date_death %}{{ object.date_death }}{% endif %}
            {% if object.place_death %}{{ object.place_death.address }}{% endif %}
            {% endif %}
        </span>

        {% if object.languages.count %}
        <span class="metadata-block">
            {# Custom language icon "language2.svg" #}
            {% include "includes/language2.svg" %}
            {% for language in object.languages.all %}
            {{ language.label }}{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </span>
        {% endif %}

        {% if object.main_places.count %}
        <span class="metadata-block">
            {# Font Awesome map-marker-alt icon #}
            {% include "svgs/solid/map-marker-alt.svg" %}
             Main: 
            {% for place in object.main_places.all %}
            <span class="badge badge-primary">{{ place.address }}</span>
            {% endfor %}
        </span>
        {% endif %}

        {% if object.based_near.count %}
        <span class="metadata-block">
            {% comment %}
            {# Font Awesome map marker icon #}
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0z"/></svg>
            {% endcomment %}
            {# Font Awesome route icon #}
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Pro 5.15.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --><path d="M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"/></svg>
             Other:
            {% for place in object.based_near.all %}
            {{ place.address }}{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </span>
        {% endif %}

        <span class="metadata-block">
            {% include "agents/includes/roles.html" %}
        </span>
        <span class="metadata-block">
            {% include "agents/includes/pages.html" %}
        </span>
    </p>

    <div class="tab-pane active" id="record-details" role="tabpanel" aria-labelledby="record-tab">
        {% include "agents/includes/agents.html" with title='Knows' agents=object.knows %}

        {% include "agents/includes/agents.html" with title='Member of' agents=object.member_of %}

        {% include "agents/includes/contributed_to.html" %}

        {% include "includes/object_notes.html" %}
    </div>

    {% if object.biographies.count %}
    <div class="tab-pane" id="bio" role="tabpanel" aria-labelledby="bio-tab">
        <h2>Biography</h2>
        {% for page in object.biographies.all %}
        {% include "cms/includes/biography.html" %}
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endblock main %}
