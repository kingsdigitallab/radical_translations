<h3>Filters</h3>
<div id="filters" class="mb-2">
    <button
        v-for="facet in facets"
        :key="facet.name"
        v-bind:aria-controls="facet.name" 
        v-bind:class="filterExists([facet.name]) ? 'btn-info' : ''"
        v-bind:data-target="'#' + facet.name"
        aria-expanded="false"
        class="btn btn-outline-primary btn-sm"
        data-toggle="collapse"
        type="button">{[ facet.name ]} 
        <span class="badge badge-secondary">{[ getFacetMax(facet.buckets) ]}</span>
        <span class="sr-only">records</span>
    </button>

    <div
        v-for="facet in facets"
        :key="facet.name + 'buckets'"
        v-bind:id="facet.name"
        class="alert collapse"
        data-parent="#filters">
        <button
            v-for="bucket in facet.buckets"
            :key="bucket.key"
            v-on:click="updateFilters([facet.name, getBucketValue(bucket)])"
            v-bind:class="filterExists([facet.name, getBucketValue(bucket)]) ? 'btn-info btn-sm' : 'btn-outline-dark btn-sm'"
            class="filter btn"
            type="button">
                {[ getBucketValue(bucket) ]} 
                <span class="badge badge-secondary">{[ bucket.doc_count ]}</span>
                <span class="sr-only">records</span>
            </button>
    </div>
</div>
